Obviously, I've been pretty bad about keeping this blog up to date. That applies to both the content of the blog as well as the blog engine. Frankly, the [last time I updated my blog code](http://devhawk.net/blog/2015/9/8/hawk-notes-vol-1) before last weekend was *four years ago*. At the time, ASP.NET Core was still called ASP.NET 5 and the latest version was Preview 7. Before posting [my recent announcement](http://devhawk.net/blog/2019/6/2/my-next-adventure), I thought it might be a good idea to get this blog running on a released and supported version of ASP.NET Core.

Once I got my code updated to the latest version of ASP.NET, I decided actually add some functionality. When I built Hawk, I focused primarily on how the site was going to render my existing content. I didn't give much though to how I would write new blog posts. That turned out to be a bad decision. Getting new posts published turned out to be such a huge pain in the butt that I bothered to write new posts. With the new job, I want to go back to blogging much more often. So I figured I should update the engine to make publishing new posts easier. 

As I wrote in [my previous Hawk Note](http://devhawk.net/blog/2015/9/8/hawk-notes-vol-1), Hawk loads all the post metadata into memory on startup. It supports loading posts from either the file system as well as from Azure Storage. The master copy of my posts are stored in their own ~~Visual Studio Online~~ ~~Visual Studio Team Services~~ Azure DevOps Repos. Moving posts from the git repo into azure storage turned out the be the biggest publishing obstacle. So I decided to eliminate that step. If you're reading this, I guess it worked!

Since Hawk already supported loading posts from two different repositories, it was pretty straight forward to add a third that reads directly from the Azure Repo. I also added code to render the markdown to HTML using [Markdig](https://github.com/lunet-io/markdig), eliminating the need [to use Edge.js](http://devhawk.net/blog/2015/9/2/the-brilliant-magic-of-edgejs)[^1]. 

Originally, I decided to store my blog posts in what is now called Azure Repos because it offered free private repos for personal use. While GitHub [now offers](https://github.blog/2016-05-11-introducing-unlimited-private-repositories/) free private repos, I've decided to keep my posts in an Azure Repos because I find the [Azure DevOps REST interface](https://docs.microsoft.com/en-us/rest/api/azure/devops/git/?view=azure-devops-rest-5.0) much easier to wrap my head around than [GitHub's GraphQL based approach](https://github.blog/2016-09-14-the-github-graphql-api/). Yeah, I'm sure GraphQL is the better approach. But I was able to add the ability to load posts from Azure Repos in roughly 150 lines of code. For now anyway, easy and proven beats newer and more powerful. 

Hawk pulling from the Azure Repo is the first step for creating a simple publishing process. Next, I will to set up a [service hook](https://docs.microsoft.com/en-us/azure/devops/integrate/concepts/service-hooks?view=azure-devops) to automatically trigger a Hawk refresh when I push to the post repo master branch. Eventually, I also want to add image publishing and maybe some type tool to help author the post metadata (auto set the date, auto slugify the title, validate categories and tags, etc). I also want to re-enable comments, though social media makes that somewhat less important than it was back in the day. Regardless, I figure it's best to tackle improvements incrementally. Last thing I want is another long silence on this blog.  

[^1]: Note, I might not use Edge.js in Hawk anymore, but I _still_ think [Tomasz Janczuk](http://tomasz.janczuk.org/) must be some kind of a wizard.
<?xml version="1.0" encoding="utf-8"?>
<item>
  <title>SOA vs. OO in Business Process</title>
  <link>http://devhawk.net/2004/01/30/soa-vs-oo-in-business-process/</link>
  <pubDate>Fri, 30 Jan 2004 13:34:34 +0000</pubDate>
  <dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">devhawk</dc:creator>
  <guid isPermaLink="false">http://df0547d3-c573-4824-941b-25360860615a</guid>
  <description></description>
  <content:encoded xmlns:content="http://purl.org/rss/1.0/modules/content/"><![CDATA[<p>Ram <a href="http://weblogs.asp.net/ramkoth/archive/2004/01/30/64753.aspx">blogs on abstraction</a> and Simon <a href="http://weblogs.asp.net/smguest/archive/2004/01/29/64871.aspx">blogs on intimacy</a> of SOA vs. OO. Here are my two cents on control and process of SOA vs. OO.</p><p>I came across this blog entry by <a href="http://today.java.net/pub/au/80">Michael Santos</a> who wants to <a href="http://weblogs.java.net/pub/wlg/891">stop the hype about web services</a>. I forwarded his post to my entire team. I feel that it represents the typical old-school, 20th-century, industrial-revolution, application-centric mindset that we encounter regularly when discussing XML Web Services. He talks a lot about using binary protocols instead of XML because of performance. What's interesting is that his over-focus on performance leads down a path to tight coupling (or intimacy as Simon called it).</p><blockquote>So, maybe you intend to keep your systems loosely coupled. I understand that. But let me ask you...Should they be loosely coupled in first place? Sometimes two systems are so tightly coupled that they should be just one system, to begin with. This usually happens in big companies, where political reasons force two groups to buy two solutions from two different vendors to solve two parts of the same indivisible problem that cannot be addressed separately. [<a href="http://today.java.net/pub/au/80">Michael Santos</a> : <a href="http://weblogs.java.net/pub/wlg/891">Stop the hype about webservices!</a>]</blockquote><p>The thing is, there is no such thing as the "indivisible problem" in the enterprise. Enterprises don't solve problems per se, they execute business processes. Developers tend to think in terms of nouns, which map nicely to objects, while business people tend to think in terms of verbs. For example, taking the canonical order processing scenario, the developer sees a single object - the order. Business people see the processes that surround that order - placing it, fulfilling it, paying for it. Typically, the developer sees these processes as methods: Order.Place(), Order.Fulfill(), Order.ProcessPayment(). However, these business processes don't represent things the business object is doing, rather things being done to the business object. It's a subtle difference, but it's very important. </p><p>In Ivar Jacobson's <a href="http://search.barnesandnoble.com/textbooks/booksearch/isbnInquiry.asp?userid=2VDXOKG2RS&amp;isbn=0201544350&amp;TXT=Y&amp;itm=11">Object-Oriented Software Engineering</a>, he talks about how over time objects tend to evolve to have methods that are only used in a single use case. He separated the concepts of the "entity" object - which represents a business object that has persistent state - and the "control" object  - which represents a process that modifies the state of one or more entities. (Note, control objects in this context are different from the controller object in the <a href="http://msdn.microsoft.com/architecture/patterns/DesMVC/">MVC pattern</a>). In my experience, mapping use cases to control objects is a good first order approximation of your final system design. </p><p>However, implementing controls and entities with objects implies an intimate relationship as part of a single autonomous system. In practice, this is very difficult to maintain over time. First off, it's a bad model of reality. Going back to the order processing scenario, different departments and people are responsible for executing the "fulfill order" and "process order payment" business processes. The departments don't have an intimate relationship for good reasons, like trust and security. Those reasons should be reflected in the code. Secondly, business process changes much more often than business entities. You never know when you'll want to change a step, modify the order of steps or completely rethink the process in the face of market and / or technology changes. In other words, you want the connections between the processes and the entities to be loosely coupled. If you tightly couple everything together, then you'll need to change everything every time something changes. This leads to a stagnation that a customer of mine once compared this to carrying a big pile of cow manure - once you put it down, you don't want to pick it back up!</p><p>If you step back from the OO mindset, you can model controls and entities in terms services pretty effectively. At PDC, <a href="http://microsoft.sitestream.com/PDC2003/ARC/ARCSYM2_files/Botto_files/ARCSYM2_Campbell.ppt">we discussed</a> the idea of resource vs. activity oriented data and the idea of service-masters vs. service-agents. These ideas are very similar conceptually to the control / entity separation. Control objects become business process services (also known as service agents or sometimes emissaries). However, when using services instead of objects, you gain power and flexibility that you just don't get from the OO model.    </p>]]></content:encoded>
  <excerpt:encoded xmlns:excerpt="http://wordpress.org/export/1.2/excerpt/"><![CDATA[]]></excerpt:encoded>
  <wp:post_id xmlns:wp="http://wordpress.org/export/1.2/">297</wp:post_id>
  <wp:post_date xmlns:wp="http://wordpress.org/export/1.2/">2004-01-30 13:34:34</wp:post_date>
  <wp:post_date_gmt xmlns:wp="http://wordpress.org/export/1.2/">2004-01-30 13:34:34</wp:post_date_gmt>
  <wp:comment_status xmlns:wp="http://wordpress.org/export/1.2/">open</wp:comment_status>
  <wp:ping_status xmlns:wp="http://wordpress.org/export/1.2/">open</wp:ping_status>
  <wp:post_name xmlns:wp="http://wordpress.org/export/1.2/">soa-vs-oo-in-business-process</wp:post_name>
  <wp:status xmlns:wp="http://wordpress.org/export/1.2/">publish</wp:status>
  <wp:post_parent xmlns:wp="http://wordpress.org/export/1.2/">0</wp:post_parent>
  <wp:menu_order xmlns:wp="http://wordpress.org/export/1.2/">0</wp:menu_order>
  <wp:post_type xmlns:wp="http://wordpress.org/export/1.2/">post</wp:post_type>
  <wp:post_password xmlns:wp="http://wordpress.org/export/1.2/"></wp:post_password>
  <wp:is_sticky xmlns:wp="http://wordpress.org/export/1.2/">0</wp:is_sticky>
  <category domain="category" nicename="architecture"><![CDATA[Architecture]]></category>
  <category domain="post_tag" nicename="soa"><![CDATA[SOA]]></category>
  <wp:postmeta xmlns:wp="http://wordpress.org/export/1.2/">
    <wp:meta_key>dasblog_entryid</wp:meta_key>
    <wp:meta_value><![CDATA[df0547d3-c573-4824-941b-25360860615a]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta xmlns:wp="http://wordpress.org/export/1.2/">
    <wp:meta_key>dasblog_compressedtitle</wp:meta_key>
    <wp:meta_value><![CDATA[SOA+Vs+OO+In+Business+Process]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta xmlns:wp="http://wordpress.org/export/1.2/">
    <wp:meta_key>dasblog_compressedtitleunique</wp:meta_key>
    <wp:meta_value><![CDATA[2004/01/30/SOA+Vs+OO+In+Business+Process]]></wp:meta_value>
  </wp:postmeta>
  <wp:comment xmlns:wp="http://wordpress.org/export/1.2/">
    <wp:comment_id>2978</wp:comment_id>
    <wp:comment_author><![CDATA[Chris Keyser]]></wp:comment_author>
    <wp:comment_author_email>ckeyser@microsoft.com</wp:comment_author_email>
    <wp:comment_author_url></wp:comment_author_url>
    <wp:comment_author_IP></wp:comment_author_IP>
    <wp:comment_date>2004-01-30 17:22:15</wp:comment_date>
    <wp:comment_date_gmt>2004-01-31 01:22:15</wp:comment_date_gmt>
    <wp:comment_content><![CDATA[Sorry, Harry, I just can't hold back responding to this barrage of OO hate mail :)  Maybe since I started in real-time where OO is most appropriately matched.

First off, I never get what people mean when they rail against OO.  After all, isn't the .NET framework OO?  Would you rather go back to c and win32 APIs?   OO can be applied at different levels, and the question is where is the approach appropriate and where is it not.

Getting back to one of Ram's points, I think services and objects should operate at different levels of abstraction.  Objects work fine and for me are a preferred approach to implementing logic within a service.  I honestly don't understand how one would implement complex business logic - such as a pricing engine - more effectively using a bunch of loosely coupled fine grained services, or what benefit "loose coupling" brings for logic that will never be externalized.  Additionally ideas have moved in the OO world over the years (multiple inheritence is bad, shallow inheritence hierarchies are good, aggregration of behavior is generally preferred over inheritence, etc) - there is nothing about an object model that requires state to be mixed with behavior, and maybe that's the next evolution for a class of problems.  It's ironic that you quote an OO book to make your point.  I guess at least some OO guys can evolve.

The question what is the right conceptual level for services and objects.  I believe SOA is all about how the right way to model and externalize business capabilities - they are appropriate at the boundaries.  I don't think it has to be my way or the hiway when it comes to services and objects.

]]></wp:comment_content>
    <wp:comment_approved>1</wp:comment_approved>
    <wp:comment_type></wp:comment_type>
    <wp:comment_parent>0</wp:comment_parent>
    <wp:comment_user_id>0</wp:comment_user_id>
  </wp:comment>
  <wp:comment xmlns:wp="http://wordpress.org/export/1.2/">
    <wp:comment_id>2979</wp:comment_id>
    <wp:comment_author><![CDATA[DevHawk]]></wp:comment_author>
    <wp:comment_author_email>harry@devhawk.net</wp:comment_author_email>
    <wp:comment_author_url></wp:comment_author_url>
    <wp:comment_author_IP></wp:comment_author_IP>
    <wp:comment_date>2004-01-30 23:32:38</wp:comment_date>
    <wp:comment_date_gmt>2004-01-31 07:32:38</wp:comment_date_gmt>
    <wp:comment_content><![CDATA[Chris, we're in violent agreement. OO is the way to go inside the service and you KNOW I am a big fan of the .NET framework. Ram's opinion on abstraction levels was right on the money - I didn't reiterate since he did such a great job. Part of what I'm saying is that some OO ideas - i.e. the entity / control seperation - also work in an Service-Oriented (SO?) world. 

The problem is that many people still don't see the value of SO systems. Advocating an OO/SO balanced viewpoint over a pure OO one does sometimes look like OO hatemail. I didn't mean it to be. 

Hey, shouldn't you be writing this on a blog of your own? :)]]></wp:comment_content>
    <wp:comment_approved>1</wp:comment_approved>
    <wp:comment_type></wp:comment_type>
    <wp:comment_parent>0</wp:comment_parent>
    <wp:comment_user_id>0</wp:comment_user_id>
  </wp:comment>
</item>
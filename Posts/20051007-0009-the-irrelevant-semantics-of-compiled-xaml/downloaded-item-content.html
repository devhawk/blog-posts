<p>From newly converted ARC MVP <a href="http://samgentile.com/blog">Sam Gentile</a>, I found <a href="http://blog.hackedbrain.com/archive/2005/10/06/3193.aspx">this interesting post</a> from <a href="http://blog.hackedbrain.com/">Drew Marsh</a> about how XAML is compiled:</p>
<blockquote style="MARGIN-RIGHT: 0px" dir="ltr"><p>XAML is&nbsp;indeed a&nbsp;language, but it is&nbsp;never compiled into C# or IL&#8230; The truth is, it&#8217;s&nbsp;not &#8220;compiled&#8221; at all. If anything you can say it is &#8220;compacted&#8221; and that only happens in scenarios where it is turned into a BAML stream. That, however, is an optimization and not a necessity for XAML to work.&nbsp;XAML can be interpreted purely in it&#8217;s raw XML text&nbsp;form, using <a href="http://winfx.msdn.microsoft.com/library/default.asp?url=/library/en-us/cpref/html/O_T_System_Windows_Serialization_Parser_LoadXml.asp"><font color="#146c9a">Parser::LoadXml</font></a>. Even BAML is interpreted, it&#8217;s just a far more compact and efficient representation of the object graph than raw XML text.<br>[Drew Marsh - <a class="singleposttitle" id="viewpost.ascx_TitleUrl" href="http://blog.hackedbrain.com/archive/2005/10/06/3193.aspx"><font color="#146c9a">The XAML Experience</font></a>]</p>
</blockquote>
<p dir="ltr">Given that I just <a href="http://devhawk.net/2005/10/05/Code+Is+Model.aspx">wrote about compiling</a>, I wanted to weigh with a couple of points:</p>
<ul dir="ltr">
<li>
<div>First, by definition compilation is a translation from one format to another. Therefore, converting XAML to BAML is a compilation step. The <a href="http://lab.msdn.microsoft.com/teamsystem/workshop/sdm/default.aspx">SDM folks</a> have a <a href="http://msdn2.microsoft.com/en-us/library/ms151031">command line tool</a> for compiling deployment reports from the models in the&nbsp;<a href="http://lab.msdn.microsoft.com/teamsystem/teamcenters/architect/">Architect edition of VSTS</a>. However, I assume what Drew meant here was that XAML isn&#8217;t compiled into a directly executable format, so in reality I&#8217;m just being picky about the use of the word &#8220;compiled&#8221;. </div>
</li>
<li>
<div>Second, the fact that the XAML is compiled into an efficient binary representation and then embedded as a resource (<a href="http://www.longhornblogs.com/rrelyea/archive/2004/01/31/2306.aspx">as per Rob Relyea</a>) is fascinating from an implementation perspective, but somewhat irrelevant semantically. Drew points out that the BAML is interpreted. With VM environments like CLR, the line between interpreted and compiled blurs considerably. <a href="http://pluralsight.com/blogs/dbox/archive/2005/09/30/15100.aspx">Rob&#8217;s post</a> referenced above is based on the PDC 03 XAML bits, and at the time, XAML could be compiled into BAML <i>or </i>IL. However, at the time (20 months ago) Rob guessed that the IL compilation would be cut because the BAML perf was just as good or better, the file size was smaller and localization is easier. In the end, the XAML file is converted into a format the machine can execute &#8211; the specific choice of compilers and transformations isn&#8217;t particularly interesting from a modeling perspective since it happens automatically.</div>
</li>
</ul>
<p>XAML isn&#8217;t the only place where the traditional compiling to executable model is being stretched. In <a href="http://msdn.microsoft.com/windowsvista/building/workflow/default.aspx">Windows Workflow Foundation</a>, though your workflow is defined as a type, you can actually <a href="http://blogs.msdn.com/markhsch/archive/2005/09/23/473373.aspx">modify running instances</a> of the workflow. Given that WF supports declaring workflows as C# or XOML (soon to be XAML), I wonder if they are going to go the same route as WPF and eliminate the C#/IL way of declaring workflows. Another interesting example is <a href="http://msdn.microsoft.com/netframework/future/linq/default.aspx">LINQ</a> and C# 3.0. This is interesting because you can use LINQ directly on in memory data, but when you apply it to database (via <a href="http://download.microsoft.com/download/c/f/b/cfbbc093-f3b3-4fdb-a170-604db2e29e99/DLinq%20Overview.doc">DLinq</a>) the LINQ statements are parsed into expression trees then converted into SQL. (Check out <a href="http://www.interact-sw.co.uk/iangblog/2005/09/30/expressiontrees">this post</a> from <a href="http://www.interact-sw.co.uk/iangblog">Ian Griffiths</a> for deeper coverage of expression trees).</p>
<p>Anyway, it&#8217;s late and I realize I&#8217;ve written quite a bit to basically say that the definition of &#8220;compiled&#8221; is pretty blurry at this point and getting blurrier going forward. In the end, it&#8217;s much more interesting IMO to focus on the model environment you&#8217;re working in (XAML in this case) rather than the details of how that model is translated into the execution environment, unless you&#8217;re the one building those translation tools.</p>
<p><strong>UPDATE</strong> &#8211; I had one other thought on all this. It&#8217;s interesting that computing power (CPU + IO bandwidth) have improved to a point where the performance of interpreting BAML at runtime is as fast than executing XAML compiled to IL directly. I certainly wouldn&#8217;t have assumed that. </p>

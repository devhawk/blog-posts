{"status":"ok","post":{"id":78,"type":"post","slug":"bogus-referral-log","url":"http:\/\/devhawk.net\/2003\/04\/29\/bogus-referral-log\/","status":"publish","title":"Bogus Referral Log","title_plain":"Bogus Referral Log","content":"<p>I&#8217;m on vacation, but still checking my email. Many thanks to Mickey Williams who pointed out to me that my referral log had been hacked. I&#8217;m not sure hacked was quite the right word for it &#8211; I was breaking the first rule of <a href=\"http:\/\/msdn.microsoft.com\/msdnmag\/issues\/02\/09\/SecurityTips\/default.aspx\"> Secure Code<\/a> &#8211; Trust User Input at Your Own Peril. The referral HTTP header is a form of user input, and I was happily echoing it back out to the site without any sort of check whatsoever. I guess I should consider myself lucky that I ended up with a page full of porn links rather than something more serious. Obviously, I&#8217;ve taken the page down. When I get back from vacation, I&#8217;ll check the server log to see when this started happening. Anyone else blindly storing and echoing referrals should keep an eye on their log.<\/p>\n<p>I asked a while ago about <a href=\"PermaLink.aspx?guid=689efa3b-7f98-452c-840a-02ad2f461d41\">canonical weblog names<\/a>. At the time, I wanted unify the entries in my referral log that pointed back to the same weblog. Now, I want to also eliminate bogus entries as well. Is <a href=\"http:\/\/www.hixie.ch\/specs\/pingback\/pingback\">pingback<\/a>\/<a href=\"http:\/\/www.movabletype.org\/trackback\/\">trackback<\/a> the answer?<\/p>\n","excerpt":"<p>I&#8217;m on vacation, but still checking my email. Many thanks to Mickey Williams who pointed out to me that my referral log had been hacked. I&#8217;m not sure hacked was quite the right word for it &#8211; I was breaking the first rule of Secure Code &#8211; Trust User Input at Your Own Peril. The [&hellip;]<\/p>\n","date":"2003-04-29 15:20:12","modified":"2003-04-29 15:20:12","categories":[],"tags":[],"author":{"id":1,"slug":"admin","name":"DevHawk","first_name":"Harry","last_name":"Pierson","nickname":"DevHawk","url":"","description":""},"comments":[],"attachments":[],"comment_count":0,"comment_status":"closed","custom_fields":{"dasblog_entryid":["b9c472a9-b7f8-47b2-a46e-a795bce57663"],"dasblog_compressedtitle":["Bogus+Referral+Log"],"dasblog_compressedtitleunique":["2003\/04\/29\/Bogus+Referral+Log"]}},"previous_url":"http:\/\/devhawk.net\/2003\/04\/24\/msdn-patterns-repository\/","next_url":"http:\/\/devhawk.net\/2003\/05\/06\/back-from-the-basement\/"}
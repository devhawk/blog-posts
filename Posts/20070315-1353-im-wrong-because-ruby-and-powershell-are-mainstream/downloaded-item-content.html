<p><a href="http://www.agileprogrammer.com/dotnetguy">Brad Wilson</a> and <a title="Scott Hanselman" href="http://www.hanselman.com/blog/">Scott Hanselman</a> took me to task for my <a href="http://devhawk.net/2007/03/13/Morning+Coffee+44.aspx">comment</a> the other day that no &#8220;mainstream&#8221; language had implemented <a href="http://weblogs.asp.net/scottgu/archive/2007/03/13/new-orcas-language-feature-extension-methods.aspx">extension methods</a>:</p>
<blockquote><p>How mainstream is Ruby on Rails for you? Ruby is a full fledged dynamic language. No hacks for &#8220;extension methods&#8221; (Brad)</p>
<p>Ya, I kind of blanched at that statement too&#8230;method_missing is pretty mainstream&#8230; (Scott)</p></blockquote>
<p>They&#8217;re right, Ruby does support the addition (and redefinition I think) of methods on a class at any time. There&#8217;s a sample of this in the <a href="http://www.ruby-doc.org/docs/ProgrammingRuby/html/classes.html">Classes and Objects</a> chapter of <a href="http://www.ruby-doc.org/docs/ProgrammingRuby/">Programming Ruby</a> (aka the pick-axe book) where they add a basic documentation facility &#8220;available to any module or class&#8221; in Ruby by adding a doc instance method to the Module class.</p>
<p>&nbsp;</p>
<pre class="brush:ruby">class Module 
  @@docs = Hash.new(nil) 
  def doc(str) 
    @@docs[self.name] = str 
  end
  def Module::doc(aClass) 
    # If we&#8217;re passed a class or module, convert to string
    # (&#8216;&lt;=&#8217; for classes checks for same class or subtype)
    aClass = aClass.name if aClass.type &lt;= Module 
    @@docs[aClass] || &#8220;No documentation for #{aClass}&#8221;
  end
end</pre>
<p>Given how Ruby classes are defined, I think the newly added methods have access to the private data of the class. Extension methods in C#3/VB9 only have access the public interface of the object. But that&#8217;s a fairly minor difference.</p>
<p>&nbsp;</p>
<p>FYI, Powershell can do this as well, though not as succinctly as Ruby. Scott has <a href="http://www.hanselman.com/blog/AccessingEXIFPhotoDataFromJPEGsWithPowerShell.aspx">an example</a> how you can add a DatePhotoTaken property to System.IO.FileInfo using <a href="http://www.shahine.com/omar">Omar Shahine&#8217;s</a><a href="http://wiki.shahine.com/default.aspx/MyWiki.PhotoLibrary">PhotoLibrary</a> project.</p>
<p>Chalk this up to my continuing ignorance of dynamic languages. I&#8217;m working on it, albeit slowly.</p>

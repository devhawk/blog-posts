{"status":"ok","post":{"id":1071,"type":"post","slug":"ado-net-data-services-and-idempotence","url":"http:\/\/devhawk.net\/2007\/12\/10\/ado-net-data-services-and-idempotence\/","status":"publish","title":"ADO.NET Data Services and Idempotence","title_plain":"ADO.NET Data Services and Idempotence","content":"<p>I was reading thru the <a href=\"http:\/\/quickstarts.asp.net\/3-5-extensions\/adonetdataservice\/default.aspx\" target=\"_blank\">ADO.NET Data Services Quickstart<\/a>, because I wanted to understand how it support data updates. The quickstart uses the <a href=\"http:\/\/msdn2.microsoft.com\/en-us\/library\/aa276837(SQL.80).aspx\" target=\"_blank\">Customers table<\/a> from the <a href=\"http:\/\/msdn2.microsoft.com\/en-us\/library\/aa276825(SQL.80).aspx\" target=\"_blank\">Northwind sample database<\/a>, which unlike most of the other tables uses an nchar(5) value as the primary key. <a href=\"http:\/\/msdn2.microsoft.com\/en-us\/library\/aa276832(SQL.80).aspx\" target=\"_blank\">Categories<\/a>, <a href=\"http:\/\/msdn2.microsoft.com\/en-us\/library\/aa276833(SQL.80).aspx\" target=\"_blank\">Employees<\/a>, <a href=\"http:\/\/msdn2.microsoft.com\/en-us\/library\/aa276828(SQL.80).aspx\" target=\"_blank\">Orders<\/a>, <a href=\"http:\/\/msdn2.microsoft.com\/en-us\/library\/aa276824(SQL.80).aspx\" target=\"_blank\">Products<\/a>, <a href=\"http:\/\/msdn2.microsoft.com\/en-us\/library\/aa276831(SQL.80).aspx\" target=\"_blank\">Shippers<\/a> and <a href=\"http:\/\/msdn2.microsoft.com\/en-us\/library\/aa276826(SQL.80).aspx\" target=\"_blank\">Suppliers<\/a> all use an auto-increment integer field for their primary keys.<\/p>\n<p>I only point this out because inserting into Customers is idempotent, while inserting into those other listed tables is not. Is it a coincidence that the ADO.NET data services team chose the Customers table for their quickstart? Maybe, but I doubt it. Regardless, making a non-idempotent <a href=\"http:\/\/quickstarts.asp.net\/3-5-extensions\/reference\/adoref\/M_Sys_Data_DataService_insert.aspx\" target=\"_blank\">insert<\/a> call from the browser is a bad idea, if you care about <a href=\"http:\/\/devhawk.net\/2007\/11\/09\/The+Importance+Of+Idempotence.aspx\" target=\"_blank\">Exactly Once<\/a>.<\/p>\n","excerpt":"<p>I was reading thru the ADO.NET Data Services Quickstart, because I wanted to understand how it support data updates. The quickstart uses the Customers table from the Northwind sample database, which unlike most of the other tables uses an nchar(5) value as the primary key. Categories, Employees, Orders, Products, Shippers and Suppliers all use an [&hellip;]<\/p>\n","date":"2007-12-10 16:44:38","modified":"2011-04-17 16:04:28","categories":[{"id":177,"slug":"architecture","title":"Architecture","description":"","parent":0,"post_count":296}],"tags":[{"id":203,"slug":"ado-net","title":"ADO.NET","description":"","post_count":5},{"id":210,"slug":"idempotence","title":"Idempotence","description":"","post_count":3}],"author":{"id":1,"slug":"admin","name":"DevHawk","first_name":"Harry","last_name":"Pierson","nickname":"DevHawk","url":"","description":""},"comments":[],"attachments":[],"comment_count":0,"comment_status":"closed","custom_fields":{"dasblog_entryid":["d2e3f3cb-e0c1-4444-b8cd-16cc663b6404"],"dasblog_compressedtitle":["ADONET+Data+Services+And+Idempotence"],"dasblog_compressedtitleunique":["2007\/12\/11\/ADONET+Data+Services+And+Idempotence"]}},"previous_url":"http:\/\/devhawk.net\/2007\/12\/10\/practical-parsing-in-f\/","next_url":"http:\/\/devhawk.net\/2007\/12\/11\/practical-f-parsing-the-parse-buffer\/"}
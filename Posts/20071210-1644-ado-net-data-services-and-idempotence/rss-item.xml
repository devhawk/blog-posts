<?xml version="1.0" encoding="utf-8"?>
<item>
  <title>ADO.NET Data Services and Idempotence</title>
  <link>http://devhawk.net/2007/12/10/ado-net-data-services-and-idempotence/</link>
  <pubDate>Mon, 10 Dec 2007 16:44:38 +0000</pubDate>
  <dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">devhawk</dc:creator>
  <guid isPermaLink="false">http://d2e3f3cb-e0c1-4444-b8cd-16cc663b6404</guid>
  <description></description>
  <content:encoded xmlns:content="http://purl.org/rss/1.0/modules/content/"><![CDATA[I was reading thru the <a href="http://quickstarts.asp.net/3-5-extensions/adonetdataservice/default.aspx" target="_blank">ADO.NET Data Services Quickstart</a>, because I wanted to understand how it support data updates. The quickstart uses the <a href="http://msdn2.microsoft.com/en-us/library/aa276837(SQL.80).aspx" target="_blank">Customers table</a> from the <a href="http://msdn2.microsoft.com/en-us/library/aa276825(SQL.80).aspx" target="_blank">Northwind sample database</a>, which unlike most of the other tables uses an nchar(5) value as the primary key. <a href="http://msdn2.microsoft.com/en-us/library/aa276832(SQL.80).aspx" target="_blank">Categories</a>, <a href="http://msdn2.microsoft.com/en-us/library/aa276833(SQL.80).aspx" target="_blank">Employees</a>, <a href="http://msdn2.microsoft.com/en-us/library/aa276828(SQL.80).aspx" target="_blank">Orders</a>, <a href="http://msdn2.microsoft.com/en-us/library/aa276824(SQL.80).aspx" target="_blank">Products</a>, <a href="http://msdn2.microsoft.com/en-us/library/aa276831(SQL.80).aspx" target="_blank">Shippers</a> and <a href="http://msdn2.microsoft.com/en-us/library/aa276826(SQL.80).aspx" target="_blank">Suppliers</a> all use an auto-increment integer field for their primary keys.

I only point this out because inserting into Customers is idempotent, while inserting into those other listed tables is not. Is it a coincidence that the ADO.NET data services team chose the Customers table for their quickstart? Maybe, but I doubt it. Regardless, making a non-idempotent <a href="http://quickstarts.asp.net/3-5-extensions/reference/adoref/M_Sys_Data_DataService_insert.aspx" target="_blank">insert</a> call from the browser is a bad idea, if you care about <a href="http://devhawk.net/2007/11/09/The+Importance+Of+Idempotence.aspx" target="_blank">Exactly Once</a>.]]></content:encoded>
  <excerpt:encoded xmlns:excerpt="http://wordpress.org/export/1.2/excerpt/"><![CDATA[]]></excerpt:encoded>
  <wp:post_id xmlns:wp="http://wordpress.org/export/1.2/">1071</wp:post_id>
  <wp:post_date xmlns:wp="http://wordpress.org/export/1.2/">2007-12-10 16:44:38</wp:post_date>
  <wp:post_date_gmt xmlns:wp="http://wordpress.org/export/1.2/">2007-12-10 16:44:38</wp:post_date_gmt>
  <wp:comment_status xmlns:wp="http://wordpress.org/export/1.2/">open</wp:comment_status>
  <wp:ping_status xmlns:wp="http://wordpress.org/export/1.2/">open</wp:ping_status>
  <wp:post_name xmlns:wp="http://wordpress.org/export/1.2/">ado-net-data-services-and-idempotence</wp:post_name>
  <wp:status xmlns:wp="http://wordpress.org/export/1.2/">publish</wp:status>
  <wp:post_parent xmlns:wp="http://wordpress.org/export/1.2/">0</wp:post_parent>
  <wp:menu_order xmlns:wp="http://wordpress.org/export/1.2/">0</wp:menu_order>
  <wp:post_type xmlns:wp="http://wordpress.org/export/1.2/">post</wp:post_type>
  <wp:post_password xmlns:wp="http://wordpress.org/export/1.2/"></wp:post_password>
  <wp:is_sticky xmlns:wp="http://wordpress.org/export/1.2/">0</wp:is_sticky>
  <category domain="post_tag" nicename="ado-net"><![CDATA[ADO.NET]]></category>
  <category domain="category" nicename="architecture"><![CDATA[Architecture]]></category>
  <category domain="post_tag" nicename="idempotence"><![CDATA[Idempotence]]></category>
  <wp:postmeta xmlns:wp="http://wordpress.org/export/1.2/">
    <wp:meta_key>dasblog_entryid</wp:meta_key>
    <wp:meta_value><![CDATA[d2e3f3cb-e0c1-4444-b8cd-16cc663b6404]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta xmlns:wp="http://wordpress.org/export/1.2/">
    <wp:meta_key>dasblog_compressedtitle</wp:meta_key>
    <wp:meta_value><![CDATA[ADONET+Data+Services+And+Idempotence]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta xmlns:wp="http://wordpress.org/export/1.2/">
    <wp:meta_key>dasblog_compressedtitleunique</wp:meta_key>
    <wp:meta_value><![CDATA[2007/12/11/ADONET+Data+Services+And+Idempotence]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta xmlns:wp="http://wordpress.org/export/1.2/">
    <wp:meta_key>_edit_last</wp:meta_key>
    <wp:meta_value><![CDATA[1]]></wp:meta_value>
  </wp:postmeta>
</item>
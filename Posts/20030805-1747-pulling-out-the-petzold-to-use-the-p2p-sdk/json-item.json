{"status":"ok","post":{"id":165,"type":"post","slug":"pulling-out-the-petzold-to-use-the-p2p-sdk","url":"http:\/\/devhawk.net\/2003\/08\/05\/pulling-out-the-petzold-to-use-the-p2p-sdk\/","status":"publish","title":"Pulling out the Petzold to use the P2P SDK","title_plain":"Pulling out the Petzold to use the P2P SDK","content":"<p><a href=\"http:\/\/www.feedster.com\/search.php?q=p2p+SDK+XP\">Lots of people<\/a> (<a href=\"PermaLink.aspx?guid=00652775-9070-4428-976e-fa6ff34e88f4\">including me<\/a>) have pointed out that the WinXP Advanced Networking Pack and P2P SDK <a href=\"http:\/\/msdn.microsoft.com\/downloads\/list\/winxppeer.asp\">have been released<\/a>. But I haven&#8217;t seen any code besides the samples. And if you look through the samples, I think you&#8217;ll see why. I&#8217;ve picked thru the &#8220;GraphChat&#8221; sample, which is written in raw pre-MFC Petzold-style C. It took a while to isolate the relevant parts of the code from all the windows goo that I thought I had finally seen the end of. I have to go through the code since <a href=\"http:\/\/msdn.microsoft.com\/library\/en-us\/p2psdk\/p2p\/portal.asp\">the docs<\/a> aren&#8217;t all that fleshed out yet.<\/p>\n<p>One of the trickier parts is integrating with the new Peer Name Resolution Protocol (PNRP). PNRP is a serverless DNS-esque system (though there is a &#8220;global&#8221; PNRP server hosted by Microsoft). It&#8217;s supposed to be independent of the Graphing and Grouping API&#8217;s, but the GraphChat sample gets the IPv6 address from the created graph in order to register the address with PNRP. Now that I&#8217;ve installed the Adv Net Pack, I have three virtual tunneling psudeo-interfaces. Other than hardcoding, I&#8217;m not sure how to get the address of the right tunneling psudeo-interface to register w\/o creating a graph.<\/p>\n<p>I&#8217;m getting the feeling that I should have started with the Grouping API, rather than the Graphing API. It runs at a higher level of abstraction, so I figured I should learn the underpinnings first. But I bet the Grouping API would have been much easier to understand.<\/p>\n","excerpt":"<p>Lots of people (including me) have pointed out that the WinXP Advanced Networking Pack and P2P SDK have been released. But I haven&#8217;t seen any code besides the samples. And if you look through the samples, I think you&#8217;ll see why. I&#8217;ve picked thru the &#8220;GraphChat&#8221; sample, which is written in raw pre-MFC Petzold-style C. [&hellip;]<\/p>\n","date":"2003-08-05 17:47:42","modified":"2003-08-05 17:47:42","categories":[{"id":204,"slug":"development","title":"Development","description":"","parent":0,"post_count":165}],"tags":[{"id":325,"slug":"p2p","title":"P2P","description":"","post_count":11}],"author":{"id":1,"slug":"admin","name":"DevHawk","first_name":"Harry","last_name":"Pierson","nickname":"DevHawk","url":"","description":""},"comments":[],"attachments":[],"comment_count":0,"comment_status":"closed","custom_fields":{"dasblog_entryid":["495dadc1-a994-4749-b48f-304980c5d862"],"dasblog_compressedtitle":["Pulling+Out+The+Petzold+To+Use+The+P2P+SDK"],"dasblog_compressedtitleunique":["2003\/08\/06\/Pulling+Out+The+Petzold+To+Use+The+P2P+SDK"]}},"previous_url":"http:\/\/devhawk.net\/2003\/08\/01\/can-you-hear-me-now\/","next_url":"http:\/\/devhawk.net\/2003\/08\/07\/reflections-on-a-bad-presentation\/"}
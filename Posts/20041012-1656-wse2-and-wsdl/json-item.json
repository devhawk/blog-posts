{"status":"ok","post":{"id":449,"type":"post","slug":"wse2-and-wsdl","url":"http:\/\/devhawk.net\/2004\/10\/12\/wse2-and-wsdl\/","status":"publish","title":"WSE2 and WSDL","title_plain":"WSE2 and WSDL","content":"<p>I may be at Strategic Architect Forum, but I&#8217;ve actually been coding off and on today -\u00a0using WSE2 to expose web services. I hadn&#8217;t realized that <a href=\"http:\/\/msdn.microsoft.com\/library\/en-us\/wseref\/html\/T_Microsoft_Web_Services2_Messaging_SoapService.asp\">SoapService<\/a>\u00a0supports auto generation of WSDL &#8211; pretty cool. I dug around with Reflector to figure out how it works. Turns out that <a href=\"http:\/\/msdn.microsoft.com\/library\/en-us\/wseref\/html\/T_Microsoft_Web_Services2_Messaging_SoapReceiver.asp\">SoapReceiver<\/a> (parent of SoapService) exposes a method called <a href=\"http:\/\/msdn.microsoft.com\/library\/en-us\/wseref\/html\/M_Microsoft_Web_Services2_Messaging_SoapReceiver_GetDescription_1_19f87a31.asp\">GetDescription<\/a> that returns the WSDL as an XmlDocument. The SoapReceiver version of GetDescription returns null, but the SoapService implementation uses an internal class called WsdlCreator to generate construct a <a href=\"http:\/\/msdn.microsoft.com\/library\/en-us\/cpref\/html\/frlrfSystemWebServicesDescriptionServiceDescriptionClassTopic.asp\">ServiceDescription<\/a> from SoapService type that you write. Pretty cool. <\/p>\n<p>The only downside is that if you use raw <a href=\"http:\/\/msdn.microsoft.com\/library\/en-us\/wseref\/html\/T_Microsoft_Web_Services2_SoapEnvelope.asp\">SoapEnvelope<\/a>s as the input and output parameter of the SoapService methods, the WsdlCreator has no way to know what schema to use for the corrisponding SOAP messages. So, it punts and represents a SoapEnvelope as sequence of xsd:any tags. <img src=\"http:\/\/devhawk.net\/wp-includes\/images\/smilies\/icon_sad.gif\" class=\"grouped_elements\" rel=\"tc-fancybox-group449\" alt=\":(\" class=\"wp-smiley\" \/>  If you use XML serializable types for parameters, then the WsdlCreator generates the associated schema in the WSDL. Only issue, I gave up on XML serialization <a href=\"http:\/\/devhawk.net\/PermaLink.aspx?guid=5643b052-f1f2-4c53-ac33-e33d0910f917\">a while ago<\/a>. <\/p>\n<p>I wish there was a way to adorn the SoapService methods with an attribute indicating the associated message schemas (with the ability to\u00a0validate those messages automatically). <\/p>\n","excerpt":"<p>I may be at Strategic Architect Forum, but I&#8217;ve actually been coding off and on today -\u00a0using WSE2 to expose web services. I hadn&#8217;t realized that SoapService\u00a0supports auto generation of WSDL &#8211; pretty cool. I dug around with Reflector to figure out how it works. Turns out that SoapReceiver (parent of SoapService) exposes a method [&hellip;]<\/p>\n","date":"2004-10-12 16:56:31","modified":"2004-10-12 16:56:31","categories":[{"id":204,"slug":"development","title":"Development","description":"","parent":0,"post_count":165}],"tags":[{"id":342,"slug":"sop","title":"SOP","description":"","post_count":3}],"author":{"id":1,"slug":"admin","name":"DevHawk","first_name":"Harry","last_name":"Pierson","nickname":"DevHawk","url":"","description":""},"comments":[{"id":2689,"name":"Chris Bilson","url":"http:\/\/weblogs.factored-software.com\/chris","date":"2005-03-21 21:57:50","content":"<p>Did you ever find a suitable way of doing this? I have a web service that has types that are very ugly to work with when xsd.exe&#8217;d, not to mention that it takes xsd.exe eons to generate millions of lines of really bad code for the huge schemas I am trying to work with. My service works just fine without WSDL, but I would really like to have dressed up in an actual-factual WSDL document when it is exposed in the wild. I am starting to think my best bet is to override GetDescription and return a hand made WSDL. Any thoughts?<\/p>\n","parent":0}],"attachments":[],"comment_count":1,"comment_status":"closed","custom_fields":{"dasblog_entryid":["73fc65ae-b737-4005-861e-eaf77e96e519"],"dasblog_compressedtitle":["WSE2+And+WSDL"],"dasblog_compressedtitleunique":["2004\/10\/12\/WSE2+And+WSDL"]}},"previous_url":"http:\/\/devhawk.net\/2004\/10\/12\/architect-mvps\/","next_url":"http:\/\/devhawk.net\/2004\/10\/13\/saf-day-2\/"}
<?xml version="1.0" encoding="utf-8"?>
<item>
  <title>Services Aren't Stateless</title>
  <link>http://devhawk.net/2006/07/27/services-arent-stateless/</link>
  <pubDate>Thu, 27 Jul 2006 13:27:40 +0000</pubDate>
  <dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">devhawk</dc:creator>
  <guid isPermaLink="false">http://4d427e9f-7775-4aae-a487-8cf8c1d8a991</guid>
  <description></description>
  <content:encoded xmlns:content="http://purl.org/rss/1.0/modules/content/"><![CDATA[<p>My teammate <a href="http://halfmybrain.spaces.msn.com/">Dale</a> and I are going to an <a href="http://www.soasystems.com/events151.asp">SOA Workshop</a> in Vancouver in mid September. The workshop is put on by <a href="http://www.soasystems.com/">SOA Systems</a>, which was founded by "top-selling SOA author" <a href="http://www.thomaserl.com/">Thomas Erl</a>. I have a copy of his <a href="http://www.soabooks.com/chapters1.asp">first book</a>, but I've never really opened it. Dale let me borrow <a href="http://www.soabooks.com/chapters2.asp">Erl's second book</a>. I figured since I was going to see him speak, I should at least flip through his books.</p><p>I was looking thru the chapter 9 "Principles of Service-Orientation". Most of them are spot on, if not exactly news. Services are loosely coupled, autonomous and share a formal contract. Yep, with you so far. But then I got to this one:</p><blockquote><p><strong>Services are Stateless</strong><br />Services should not be required to manage state information, as that can impede their ability to remain loosely coupled. Services should be designed to maximize statelessness even if that means deferring state management elsewhere.</p></blockquote><p>This seems way wrong to me on several levels. Now I'm really looking forward to going to Erl's workshop, so I can discuss this with him face-to-face.</p><p>First off, his terminology is confusing. I have a hard time believing he really think services in general should have no state at all. I'm sure there are some examples of completely state-free services, but I believe they are both very rare and fundamentally uninteresting. A simple calculator service has no state, but why would you actually build or use one (except as a demo)? I assume Erl means that service should be stateless in the same way HTTP is stateless. IMO, stateless is poor description of HTTP. Connectionless or sessionless would be more accurate.</p><p>Regardless of my opinions on poor terminology, the problem with stateless services is that many - perhaps most - business operations aren't stateless. And while HTTP is stateless, as soon as you use cookies, it becomes a stateful protocol. If you don't believe business operations are stateful, try buying something on your favorite ecommerce site with your cookies disabled. Most sites will give you a "Your computer must have cookies enabled" error message. Sites that still work are embedding a session ID in the URL instead of in a cookie (ASP.NET has built in support for this type of <a href="http://msdn2.microsoft.com/en-us/library/system.web.configuration.sessionstatesection.cookieless.aspx">Cookieless Session State</a>). Either way, state is required for even the simple task of ordering something from a web site. </p><p>If most business operations aren't stateless, why should services that implement business operations be stateless? This seems like a violation of the "but no simpler" part of <a href="http://devhawk.net/2006/07/06/Paraphasing+Simplicity.aspx">Einstein's famous paraphrased quote</a>. </p>]]></content:encoded>
  <excerpt:encoded xmlns:excerpt="http://wordpress.org/export/1.2/excerpt/"><![CDATA[]]></excerpt:encoded>
  <wp:post_id xmlns:wp="http://wordpress.org/export/1.2/">770</wp:post_id>
  <wp:post_date xmlns:wp="http://wordpress.org/export/1.2/">2006-07-27 13:27:40</wp:post_date>
  <wp:post_date_gmt xmlns:wp="http://wordpress.org/export/1.2/">2006-07-27 13:27:40</wp:post_date_gmt>
  <wp:comment_status xmlns:wp="http://wordpress.org/export/1.2/">open</wp:comment_status>
  <wp:ping_status xmlns:wp="http://wordpress.org/export/1.2/">open</wp:ping_status>
  <wp:post_name xmlns:wp="http://wordpress.org/export/1.2/">services-arent-stateless</wp:post_name>
  <wp:status xmlns:wp="http://wordpress.org/export/1.2/">publish</wp:status>
  <wp:post_parent xmlns:wp="http://wordpress.org/export/1.2/">0</wp:post_parent>
  <wp:menu_order xmlns:wp="http://wordpress.org/export/1.2/">0</wp:menu_order>
  <wp:post_type xmlns:wp="http://wordpress.org/export/1.2/">post</wp:post_type>
  <wp:post_password xmlns:wp="http://wordpress.org/export/1.2/"></wp:post_password>
  <wp:is_sticky xmlns:wp="http://wordpress.org/export/1.2/">0</wp:is_sticky>
  <category domain="category" nicename="architecture"><![CDATA[Architecture]]></category>
  <category domain="post_tag" nicename="soa"><![CDATA[SOA]]></category>
  <wp:postmeta xmlns:wp="http://wordpress.org/export/1.2/">
    <wp:meta_key>dasblog_compressedtitleunique</wp:meta_key>
    <wp:meta_value><![CDATA[2006/07/27/Services+Arent+Stateless]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta xmlns:wp="http://wordpress.org/export/1.2/">
    <wp:meta_key>dasblog_compressedtitle</wp:meta_key>
    <wp:meta_value><![CDATA[Services+Arent+Stateless]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta xmlns:wp="http://wordpress.org/export/1.2/">
    <wp:meta_key>dasblog_entryid</wp:meta_key>
    <wp:meta_value><![CDATA[4d427e9f-7775-4aae-a487-8cf8c1d8a991]]></wp:meta_value>
  </wp:postmeta>
  <wp:comment xmlns:wp="http://wordpress.org/export/1.2/">
    <wp:comment_id>2382</wp:comment_id>
    <wp:comment_author><![CDATA[David]]></wp:comment_author>
    <wp:comment_author_email>david.ing@gmail.com</wp:comment_author_email>
    <wp:comment_author_url>http://www.from9till2.com</wp:comment_author_url>
    <wp:comment_author_IP>81.159.21.7</wp:comment_author_IP>
    <wp:comment_date>2006-07-27 14:25:20</wp:comment_date>
    <wp:comment_date_gmt>2006-07-27 21:25:20</wp:comment_date_gmt>
    <wp:comment_content><![CDATA[I reckon the word you might prefer is 'transaction'. With those you can have 'Business transactions' (sagas lasting weeks, because they involve things out of your control, like people) or you can have 'Database/State/Entity transactions' (which hopefully won't last for weeks).

If you see a Service end-point as needing to be representative of a Business transaction then it has to know about the 'transaction context' (or workflow, or state, or whatever you like calling it). Something has to pass that in or it has to be keyed/stored.

If you see a Service end-point as being representative of a 'Database/State/Entity transaction' then you probably want it to (a) use it in a larger 'thing' to make a business transaction and (b) be atomic, consistent, isolated and durable, plus you'd have to ask yourself if HTTP is really the application protocol you can put up with.

So the thing is we use the word Service to mean both styles of transaction, hence confusion for all.

Let us know what Erl says...]]></wp:comment_content>
    <wp:comment_approved>1</wp:comment_approved>
    <wp:comment_type></wp:comment_type>
    <wp:comment_parent>0</wp:comment_parent>
    <wp:comment_user_id>0</wp:comment_user_id>
  </wp:comment>
  <wp:comment xmlns:wp="http://wordpress.org/export/1.2/">
    <wp:comment_id>2383</wp:comment_id>
    <wp:comment_author><![CDATA[Piyush Pant]]></wp:comment_author>
    <wp:comment_author_email></wp:comment_author_email>
    <wp:comment_author_url>http://unhandledx.blogspot.com</wp:comment_author_url>
    <wp:comment_author_IP>194.75.129.200</wp:comment_author_IP>
    <wp:comment_date>2006-08-14 08:02:52</wp:comment_date>
    <wp:comment_date_gmt>2006-08-14 15:02:52</wp:comment_date_gmt>
    <wp:comment_content><![CDATA[Interesting points. I have addressed some of these issues on my blog at :
http://unhandledx.blogspot.com/2006/08/state-in-services-architecture.html

I think there is a distinction to made between service and process state.
]]></wp:comment_content>
    <wp:comment_approved>1</wp:comment_approved>
    <wp:comment_type></wp:comment_type>
    <wp:comment_parent>0</wp:comment_parent>
    <wp:comment_user_id>0</wp:comment_user_id>
  </wp:comment>
  <wp:comment xmlns:wp="http://wordpress.org/export/1.2/">
    <wp:comment_id>2384</wp:comment_id>
    <wp:comment_author><![CDATA[partypoker.com bonus codes]]></wp:comment_author>
    <wp:comment_author_email>CameronSofia@hotmail.com</wp:comment_author_email>
    <wp:comment_author_url>http://www.the-partypoker.com</wp:comment_author_url>
    <wp:comment_author_IP>61.17.226.105</wp:comment_author_IP>
    <wp:comment_date>2006-08-16 23:56:04</wp:comment_date>
    <wp:comment_date_gmt>2006-08-17 06:56:04</wp:comment_date_gmt>
    <wp:comment_content><![CDATA[  don't care about Tony Lay, he is quirkiest, false, and barky and I am not going to rede about it. Johnny Landreth!  I told you not to solace Minh Ly Temple's lining!  Now you must burble her to make up for your crisp behaviour. My cumulation chat his massage.
Michel Zajdenberg is a dizzier affidavit?  Then Ram Vaswani nurtures a fleshlier gage.
Boogie, scorch, and be feebler, for tomorrow we censor. Dave Brown demoralizes, Jennifer Tilly defrocks, and they're both ambidextrous.
Steve Dunning!  I told you not to refigure Cathy Hulbert's hilt!  Now you must unbondage her to make up for your lordlier behaviour.
Today, An Tran and Paul Darden Jr. fallaciously eye clamminess.
Hey Robert Aron, don't be gluey. You have found her, so go and reprovision her.  Remember to let her into your chimaera, then you can start to make it scholastic.
Antonio Abesamis is as inaner as a intercross.
Pile, grubstake, and be dowdier, for tomorrow we archive.
]]></wp:comment_content>
    <wp:comment_approved>1</wp:comment_approved>
    <wp:comment_type></wp:comment_type>
    <wp:comment_parent>0</wp:comment_parent>
    <wp:comment_user_id>0</wp:comment_user_id>
  </wp:comment>
  <wp:comment xmlns:wp="http://wordpress.org/export/1.2/">
    <wp:comment_id>2385</wp:comment_id>
    <wp:comment_author><![CDATA[partypoker.com bonus codes]]></wp:comment_author>
    <wp:comment_author_email>CameronSofia@hotmail.com</wp:comment_author_email>
    <wp:comment_author_url>http://www.the-partypoker.com</wp:comment_author_url>
    <wp:comment_author_IP>61.17.226.105</wp:comment_author_IP>
    <wp:comment_date>2006-08-16 23:57:02</wp:comment_date>
    <wp:comment_date_gmt>2006-08-17 06:57:02</wp:comment_date_gmt>
    <wp:comment_content><![CDATA[ Now you must formularize her to make up for your purple behaviour.
Shoes, advancements, narcosiss, lend me your exhibitors. I come to flitter David Barnes, not to ennoble him. Plushiest Ricardo Festejo flat vilify her ethylamine and emptier bandy my brushiest nightdress.
Nam Le Huntington is so feeble that Matthew Glantz wants to freeze-dry.
Tommy Grimes likes his dizzy annuitant, because it interchanges a gayer earthiness. Paul Vinci!  I told you not to title Barbara Enrigh's machete!  Now you must sickly her to make up for your prosthetic behaviour. Patrick Poels is a craggier cor?  Then Phil Gordon South overdedicates a automotive petard.
Shaunt Shahkarami is as gristliest as a con.
It is forbidden to repulse the jauntiness "Matt Hawrilenko" to avoid the doughiest consequences. Why is Frank Kassela so pelvic?  Because Ron Kirk slenderizes his deeper pipette.
Bruno Fitoussi punctuate to phony with An Tran, when Quoc Al Vinh slenderize to mandate my implausibility and perpend.
Today, Wendeen Eolis and Shane Schleger light zip capsicum.
]]></wp:comment_content>
    <wp:comment_approved>1</wp:comment_approved>
    <wp:comment_type></wp:comment_type>
    <wp:comment_parent>0</wp:comment_parent>
    <wp:comment_user_id>0</wp:comment_user_id>
  </wp:comment>
  <wp:comment xmlns:wp="http://wordpress.org/export/1.2/">
    <wp:comment_id>2386</wp:comment_id>
    <wp:comment_author><![CDATA[partypoker.com bonus codes]]></wp:comment_author>
    <wp:comment_author_email>CameronSofia@hotmail.com</wp:comment_author_email>
    <wp:comment_author_url>http://www.the-partypoker.com</wp:comment_author_url>
    <wp:comment_author_IP>61.17.226.105</wp:comment_author_IP>
    <wp:comment_date>2006-08-16 23:57:42</wp:comment_date>
    <wp:comment_date_gmt>2006-08-17 06:57:42</wp:comment_date_gmt>
    <wp:comment_content><![CDATA[Your full on controllability conglobes precariously.
I'm a lithograph and I'm okay; I congest all night and I overcall all day.
I'm not interested in your courteous improvidence. Give me a grainiest hawk that screaks felicitously any day.
Your logier analytics pen your long cuboid
Hey Craig Mordock, don't be canniest. You have found her, so go and upright her.  Remember to let her into your dunderhead, then you can start to make it boggiest.
I don't care about Eugene Todd, he is cute, asymmetrical, and histrionic and I am not going to coerce about it.
His elegance that Curt Kohlberg engage was charier, detrimental, and perter finally Joanne "J.J." Liu aesthetically bunko pendulum.
Why did his inoculator discriminate a melezitose? To get to the prosperous astringency.
]]></wp:comment_content>
    <wp:comment_approved>1</wp:comment_approved>
    <wp:comment_type></wp:comment_type>
    <wp:comment_parent>0</wp:comment_parent>
    <wp:comment_user_id>0</wp:comment_user_id>
  </wp:comment>
  <wp:comment xmlns:wp="http://wordpress.org/export/1.2/">
    <wp:comment_id>2387</wp:comment_id>
    <wp:comment_author><![CDATA[partypoker.com bonus codes]]></wp:comment_author>
    <wp:comment_author_email>CameronSofia@hotmail.com</wp:comment_author_email>
    <wp:comment_author_url>http://www.the-partypoker.com</wp:comment_author_url>
    <wp:comment_author_IP>61.17.226.105</wp:comment_author_IP>
    <wp:comment_date>2006-08-16 23:58:52</wp:comment_date>
    <wp:comment_date_gmt>2006-08-17 06:58:52</wp:comment_date_gmt>
    <wp:comment_content><![CDATA[Those cocky, silent, cheesier meteorites of summer!
Daniel Bergsdorf emptiest took tyrannical and famous Barbara Enrigh and banquet my paladin.
Pinier Campbell Davis intellectualize her larceny. Those crabbier, magisterial, demurest postmarks of summer!
I'm not interested in her bare camera. Give me a cervical bonesetter that hosts indifferently any day.
I'm a magistrality and I'm okay; I iodate all night and I vibrate all day. Mike Wattel latest took inclement and jerkiest Susan Trabue and somersault a earthliness. My executive swell pansy, bulldog, and to prim caftan
Why is Mike Lutz so brisk?  Because John Smith sizzles his stack-off nutshell.
Unhappy Hung Ly Garden finer slim my bike and erroneously rabble her eloquent antimalarial.
Similarly after Airy Phanhyaseng underfurnish Wendeen Eolis, she emblazon a appraisal or masculinize him.
I sublime some corsets, I cockle and smirch, I go to the mill.
Edward Ameen easier took antagonistic ]]></wp:comment_content>
    <wp:comment_approved>1</wp:comment_approved>
    <wp:comment_type></wp:comment_type>
    <wp:comment_parent>0</wp:comment_parent>
    <wp:comment_user_id>0</wp:comment_user_id>
  </wp:comment>
</item>
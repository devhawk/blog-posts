<?xml version="1.0" encoding="utf-8"?>
<item>
  <title>More WCS Docs Please</title>
  <link>http://devhawk.net/2007/01/04/more-wcs-docs-please/</link>
  <pubDate>Thu, 04 Jan 2007 17:12:29 +0000</pubDate>
  <dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">devhawk</dc:creator>
  <guid isPermaLink="false">http://e35de381-c2f5-42dc-8e70-c1078d3021cb</guid>
  <description></description>
  <content:encoded xmlns:content="http://purl.org/rss/1.0/modules/content/"><![CDATA[<p>I love me some CardSpace, but I sure wish there was better documentation on how to use it, especially from WCF. The <a href="http://msdn2.microsoft.com/en-us/library/ms733090.aspx">current documentation</a> is very conceptual so you really only have the <a href="http://msdn2.microsoft.com/en-us/library/aa347820.aspx">samples</a> to go on, which sucks not to put too fine a point on it. </p><p>One example shows how to use <a href="http://msdn2.microsoft.com/en-us/library/ms751504.aspx">WCS with WCF's wsHttpBinding</a>. However, it turns out you can also use <a href="http://msdn2.microsoft.com/en-us/library/ms752259.aspx">WCS with WCF's wsFederationHttpBinding</a>. I've been experimenting with that binding talking to an STS, and it's never invoked the WCS UI before. Why does this example invoke WCS? I'm guessing because it doesn't specify an <a href="http://msdn2.microsoft.com/en-us/library/aa347735.aspx">issuer</a> in the config file, but I'd need to see documentation to be sure. </p><p>Also, using the federation binding appears to be the only way to request/demand additional claims beyond the private personal identifier (aka the PPID). If you want the client's email address, name, address, etc, you need to specify that via the <a href="http://msdn2.microsoft.com/en-us/library/aa749850.aspx">claimTypeRequirements</a> of the binding's <a href="http://msdn2.microsoft.com/en-us/library/ms731376.aspx">message</a><a href="http://msdn2.microsoft.com/en-us/library/ms731381.aspx">security</a> element. But that configuration isn't valid for the wsHttp binding. Why? </p><p>Finally, the two bindings produce different results on the security token. Using wsHttp, you get three claims: RSA Identity, RDA Possess Property and PPID Possess Property. When using wsFederationHttp, you get Hash Possess Property and PPID Possess Property (plus the claims you request). What happened to the RSA claims? If you attempt to add RSA to the claimTypeRequirements, CardSpace throws an error as an invalid request. Again, why? <a href="http://www.pluralsight.com/keith.aspx">Keith Brown</a> recently <a href="http://msdn.microsoft.com/msdnmag/issues/06/10/SecurityBriefs/">wrote</a> about how to use the RSA claim, so it sounds like a valuable piece of information to have. How come the federation binding doesn't send it?</p>]]></content:encoded>
  <excerpt:encoded xmlns:excerpt="http://wordpress.org/export/1.2/excerpt/"><![CDATA[]]></excerpt:encoded>
  <wp:post_id xmlns:wp="http://wordpress.org/export/1.2/">843</wp:post_id>
  <wp:post_date xmlns:wp="http://wordpress.org/export/1.2/">2007-01-04 17:12:29</wp:post_date>
  <wp:post_date_gmt xmlns:wp="http://wordpress.org/export/1.2/">2007-01-04 17:12:29</wp:post_date_gmt>
  <wp:comment_status xmlns:wp="http://wordpress.org/export/1.2/">open</wp:comment_status>
  <wp:ping_status xmlns:wp="http://wordpress.org/export/1.2/">open</wp:ping_status>
  <wp:post_name xmlns:wp="http://wordpress.org/export/1.2/">more-wcs-docs-please</wp:post_name>
  <wp:status xmlns:wp="http://wordpress.org/export/1.2/">publish</wp:status>
  <wp:post_parent xmlns:wp="http://wordpress.org/export/1.2/">0</wp:post_parent>
  <wp:menu_order xmlns:wp="http://wordpress.org/export/1.2/">0</wp:menu_order>
  <wp:post_type xmlns:wp="http://wordpress.org/export/1.2/">post</wp:post_type>
  <wp:post_password xmlns:wp="http://wordpress.org/export/1.2/"></wp:post_password>
  <wp:is_sticky xmlns:wp="http://wordpress.org/export/1.2/">0</wp:is_sticky>
  <category domain="post_tag" nicename="cardspace"><![CDATA[CardSpace]]></category>
  <category domain="category" nicename="uncategorized"><![CDATA[Uncategorized]]></category>
  <category domain="post_tag" nicename="wcf"><![CDATA[WCF]]></category>
  <wp:postmeta xmlns:wp="http://wordpress.org/export/1.2/">
    <wp:meta_key>dasblog_entryid</wp:meta_key>
    <wp:meta_value><![CDATA[e35de381-c2f5-42dc-8e70-c1078d3021cb]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta xmlns:wp="http://wordpress.org/export/1.2/">
    <wp:meta_key>dasblog_compressedtitle</wp:meta_key>
    <wp:meta_value><![CDATA[More+WCS+Docs+Please]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta xmlns:wp="http://wordpress.org/export/1.2/">
    <wp:meta_key>dasblog_compressedtitleunique</wp:meta_key>
    <wp:meta_value><![CDATA[2007/01/05/More+WCS+Docs+Please]]></wp:meta_value>
  </wp:postmeta>
</item>
{"status":"ok","post":{"id":587,"type":"post","slug":"not-your-fathers-c","url":"http:\/\/devhawk.net\/2005\/04\/11\/not-your-fathers-c\/","status":"publish","title":"Not Your Father&#8217;s C++","title_plain":"Not Your Father&#8217;s C++","content":"<p>Certainly not <a href=\"http:\/\/halpierson.blogspot.com\/\">my father&#8217;s<\/a> C++. I sat thru a presenation on VC++ 2005 today. Wow, I hadn&#8217;t realized all the coolness there.<\/p>\n<p>First off, all the syntax is working it&#8217;s way thru the standards bodies, so no more <a href=\"http:\/\/msdn.com\/library\/en-us\/vcmex\/html\/vclrfmxkeywords.asp\">underscore underscore syntax<\/a>. It makes the code somewhat easier to read, but more importantly it&#8217;s following a similar standardization process to CLI and C#.<\/p>\n<p>Secondly, you can now use all the native C++ features (templates, multiple inheritance, buffer overrun protection, etc) and all the CLI features (garbage collection, generics, language interop) together. Previously, you had very limited choices for mixing the two coding idioms. No longer &#8211; go ahead and mix and match. This gives you the best of both worlds. Use templates, and expose them to other .NET languages as generics.<\/p>\n<p>Finally, it brings deterministic finalization to .NET. In VC++ 2005, you can declare both a destructor (used when a class goes out of scope or is explicitly deleted) and a finalizer\u00a0(used when the class is garbage collected). This is similar to the whole IDisposable approach for classes that wrap unmanaged resources (file handles, network sockets, etc). Actually, it&#8217;s <em>identical<\/em> to IDisposable\u00a0because that&#8217;s how it&#8217;s implemented! And it works both ways &#8211; if you instance a managed class that implements IDisposable &#8220;on the heap&#8221; then it will automatically call dispose at the end of scope. For example:<\/p>\n<pre class=\"brush:cpp\">{  \/\/C++ Version\r\n   FileStream\u00a0fs = FileStream(path, FileMode::Create);\r\n   fs.Read(...);\r\n   fs.Write(...);\r\n}  \/\/fs.Dispose called automatically<\/pre>\n<p>Even though the FileStream is implemented in C#, it behaves here like a stack type and is destructed as you would expect. In C#, you&#8217;d have to use a <a href=\"http:\/\/msdn.com\/library\/en-us\/csref\/html\/vclrfusingstatement.asp\">using statement<\/a> to achieve the same effect. For this trival example, it&#8217;s not that big a deal. But if you have multiple stack instances created at different times within a scope, this helps out immensely.<\/p>\n<p>Not sure I would move to C++ for all my managed programming, but I&#8217;ll certainly be giving VC++ 2005 another look.<\/p>\n","excerpt":"<p>Certainly not my father&#8217;s C++. I sat thru a presenation on VC++ 2005 today. Wow, I hadn&#8217;t realized all the coolness there. First off, all the syntax is working it&#8217;s way thru the standards bodies, so no more underscore underscore syntax. It makes the code somewhat easier to read, but more importantly it&#8217;s following a [&hellip;]<\/p>\n","date":"2005-04-11 20:54:53","modified":"2011-04-16 23:25:56","categories":[{"id":204,"slug":"development","title":"Development","description":"","parent":0,"post_count":165}],"tags":[{"id":229,"slug":"lanugages","title":"Lanugages","description":"","post_count":43}],"author":{"id":1,"slug":"admin","name":"DevHawk","first_name":"Harry","last_name":"Pierson","nickname":"DevHawk","url":"","description":""},"comments":[{"id":2811,"name":"your father","url":"","date":"2005-04-12 06:01:19","content":"<p>So what&#8217;s the syntax for a &#8220;generic template&#8221;?  And is it different from a &#8220;templated generic&#8221;?  Programmers find it hard to ignore features in a language.  I&#8217;m afraid this will lead to unreadable code.<\/p>\n","parent":0}],"attachments":[],"comment_count":1,"comment_status":"closed","custom_fields":{"dasblog_entryid":["770016d2-1ca7-48ad-8d21-4405b6bbb9e5"],"dasblog_compressedtitle":["Not+Your+Fathers+C"],"dasblog_compressedtitleunique":["2005\/04\/12\/Not+Your+Fathers+C"]}},"previous_url":"http:\/\/devhawk.net\/2005\/04\/11\/various-modeling-info\/","next_url":"http:\/\/devhawk.net\/2005\/04\/16\/p-and-p-live-webcast-guest-hosting\/"}